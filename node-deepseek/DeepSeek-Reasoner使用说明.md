# DeepSeek Reasoner ä½¿ç”¨è¯´æ˜

## ä»€ä¹ˆæ˜¯ DeepSeek Reasonerï¼Ÿ

DeepSeek Reasoner æ˜¯ DeepSeek çš„æ¨ç†æ¨¡å‹ï¼Œå®ƒä¼šï¼š
1. **å…ˆå±•ç¤ºæ¨ç†è¿‡ç¨‹** - æ¨¡å‹å¦‚ä½•æ€è€ƒé—®é¢˜
2. **å†ç»™å‡ºæœ€ç»ˆç­”æ¡ˆ** - åŸºäºæ¨ç†å¾—å‡ºçš„ç»“è®º

è¿™ç§æ¨¡å¼ç‰¹åˆ«é€‚åˆéœ€è¦é€»è¾‘æ¨ç†çš„é—®é¢˜ï¼Œæ¯”å¦‚æ•°å­¦ã€ç‰©ç†ã€ç¼–ç¨‹ç­‰ã€‚

## è¿è¡Œç¤ºä¾‹

```powershell
# è¿è¡Œ reasoner ç¤ºä¾‹
npm run reason

# è¿è¡Œè°ƒè¯•ç‰ˆæœ¬ï¼ˆæŸ¥çœ‹è¯¦ç»†æ•°æ®ç»“æ„ï¼‰
npm run debug
```

## ä»£ç è¯´æ˜

### æ ¸å¿ƒé…ç½®

```javascript
const stream = await client.chat.completions.create({
  model: 'deepseek-reasoner',  // ä½¿ç”¨ reasoner æ¨¡å‹
  messages: [
    { 
      role: 'user', 
      content: 'å¤©ç©ºä¸ºä»€ä¹ˆæ˜¯è“è‰²çš„' 
    }
  ],
  stream: true  // å¯ç”¨æµå¼è¾“å‡º
});
```

### æµå¼å“åº”å¤„ç†

DeepSeek Reasoner çš„æµå¼å“åº”ä¸­ï¼Œæ¯ä¸ª chunk çš„ delta åŒ…å«ä¸¤ä¸ªå­—æ®µï¼š

```javascript
{
  "reasoning_content": "æ¨ç†è¿‡ç¨‹çš„æ–‡æœ¬ç‰‡æ®µ",
  "content": "æœ€ç»ˆç­”æ¡ˆçš„æ–‡æœ¬ç‰‡æ®µ"
}
```

### å¤„ç†é€»è¾‘

```javascript
for await (const chunk of stream) {
  const delta = chunk.choices[0]?.delta;
  
  // 1. å¤„ç†æ¨ç†è¿‡ç¨‹
  if (delta.reasoning_content && delta.reasoning_content.trim()) {
    // æ˜¾ç¤º ğŸ§  ã€æ¨ç†è¿‡ç¨‹ã€‘
    process.stdout.write(delta.reasoning_content);
  }

  // 2. å¤„ç†æœ€ç»ˆç­”æ¡ˆ
  if (delta.content && delta.content.trim()) {
    // æ˜¾ç¤º ğŸ’¡ ã€æœ€ç»ˆç­”æ¡ˆã€‘
    process.stdout.write(delta.content);
  }
}
```

## è¾“å‡ºç¤ºä¾‹

```
================================================================================
ä½¿ç”¨ DeepSeek Reasoner æ¨¡å‹å›ç­”é—®é¢˜
================================================================================

é—®é¢˜: å¤©ç©ºä¸ºä»€ä¹ˆæ˜¯è“è‰²çš„

ğŸ§  ã€æ¨ç†è¿‡ç¨‹ã€‘
--------------------------------------------------------------------------------
ç”¨æˆ·é—®çš„æ˜¯"å¤©ç©ºä¸ºä»€ä¹ˆæ˜¯è“è‰²çš„"ï¼Œè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„ç‰©ç†å­¦é—®é¢˜...
éœ€è¦ä»å…‰çš„æ³¢é•¿å’Œå¤§æ°”ç›¸äº’ä½œç”¨çš„è§’åº¦è§£é‡Š...
--------------------------------------------------------------------------------

ğŸ’¡ ã€æœ€ç»ˆç­”æ¡ˆã€‘
--------------------------------------------------------------------------------
å½“ç„¶ï¼è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„é—®é¢˜ã€‚ç®€å•æ¥è¯´ï¼Œ**å¤©ç©ºä¹‹æ‰€ä»¥æ˜¯è“è‰²çš„ï¼Œ
æ˜¯å› ä¸ºå¤ªé˜³å…‰ä¸­çš„è“è‰²å…‰è¢«åœ°çƒå¤§æ°”å±‚ä¸­çš„ç©ºæ°”åˆ†å­æ•£å°„å¾—æœ€å¤šã€‚**
...
================================================================================
âœ… æ¨ç†å®Œæˆï¼
================================================================================
```

## é€‚ç”¨åœºæ™¯

DeepSeek Reasoner ç‰¹åˆ«é€‚åˆä»¥ä¸‹ç±»å‹çš„é—®é¢˜ï¼š

### âœ… æ¨èä½¿ç”¨
- æ•°å­¦é—®é¢˜æ±‚è§£
- ç‰©ç†/åŒ–å­¦ç°è±¡è§£é‡Š
- é€»è¾‘æ¨ç†é¢˜
- ç¼–ç¨‹ç®—æ³•è®¾è®¡
- å¤æ‚é—®é¢˜åˆ†æ

### âŒ ä¸æ¨èä½¿ç”¨
- ç®€å•çš„å¯¹è¯èŠå¤©
- åˆ›æ„å†™ä½œ
- ç¿»è¯‘ä»»åŠ¡
- ä¿¡æ¯æŸ¥è¯¢

å¯¹äºæ™®é€šèŠå¤©ï¼Œä½¿ç”¨ `deepseek-chat` æ¨¡å‹å³å¯ï¼ˆè§ `index.js`ï¼‰ã€‚

## è‡ªå®šä¹‰é—®é¢˜

ç¼–è¾‘ `reason-demo.js` ç¬¬ 32-36 è¡Œï¼š

```javascript
messages: [
  { 
    role: 'user', 
    content: 'ä½ çš„é—®é¢˜å†™åœ¨è¿™é‡Œ'  // ä¿®æ”¹è¿™é‡Œ
  }
]
```

## å…³é”®å‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `model` | æ¨¡å‹åç§° | `'deepseek-reasoner'` |
| `stream` | æ˜¯å¦æµå¼è¾“å‡º | `true` |
| `temperature` | éšæœºæ€§ï¼ˆ0-2ï¼‰ | 1.0ï¼ˆå¯é€‰ï¼‰ |
| `max_tokens` | æœ€å¤§è¾“å‡ºé•¿åº¦ | ä¸é™åˆ¶ï¼ˆå¯é€‰ï¼‰ |

## æ³¨æ„äº‹é¡¹

1. **reasoning_content å’Œ content åŒæ—¶å­˜åœ¨**  
   åœ¨æµå¼å“åº”ä¸­ï¼Œä¸¤ä¸ªå­—æ®µå¯èƒ½åŒæ—¶å‡ºç°åœ¨åŒä¸€ä¸ª chunk ä¸­ï¼Œéœ€è¦åˆ†åˆ«å¤„ç†ã€‚

2. **ç©ºå­—ç¬¦ä¸²åˆ¤æ–­**  
   ä½¿ç”¨ `.trim()` åˆ¤æ–­å†…å®¹æ˜¯å¦ä¸ºç©ºï¼Œé¿å…è¾“å‡ºç©ºç™½å†…å®¹ã€‚

3. **API è°ƒç”¨æˆæœ¬**  
   Reasoner æ¨¡å‹å› ä¸ºè¾“å‡ºæ¨ç†è¿‡ç¨‹ï¼Œtoken æ¶ˆè€—ä¼šæ¯”æ™®é€šæ¨¡å‹æ›´å¤šã€‚

4. **æ¨ç†è¿‡ç¨‹ä¸ºä¸­æ–‡**  
   DeepSeek Reasoner ä¼šæ ¹æ®é—®é¢˜è¯­è¨€è‡ªåŠ¨é€‰æ‹©æ¨ç†è¿‡ç¨‹çš„è¯­è¨€ã€‚

## è°ƒè¯•æŠ€å·§

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¿è¡Œè°ƒè¯•ç‰ˆæœ¬æŸ¥çœ‹å®Œæ•´çš„æ•°æ®ç»“æ„ï¼š

```powershell
npm run debug
```

è¿™ä¼šè¾“å‡ºå‰ 3 ä¸ª chunk çš„å®Œæ•´ JSON ç»“æ„ï¼Œå¸®åŠ©ç†è§£ API è¿”å›çš„æ•°æ®æ ¼å¼ã€‚

## æ›´å¤šä¿¡æ¯

- [DeepSeek API æ–‡æ¡£](https://platform.deepseek.com/api-docs/)
- [OpenAI SDK æ–‡æ¡£](https://github.com/openai/openai-node)

