# 简历优化 Agent

基于 LangGraph 和 DeepSeek 的程序员简历优化工具。

## 📁 项目结构

```
resume-optimize/
├── index.js              # 入口文件，运行示例
├── config.js             # 配置：LLM 和评分阈值
├── state.js              # 状态定义
├── prompts.js            # 提示词模板
├── tools.js              # 工具：解析、分析技能、分析项目
├── nodes-analysis.js     # 节点：解析和分析
├── nodes-scoring.js      # 节点：评分和建议
├── workflow.js           # 工作流构建
└── README.md             # 说明文档
```

**文件行数**：
- config.js: 30 行
- state.js: 62 行 
- index.js: 79 行
- tools.js: 108 行
- nodes-analysis.js: 109 行
- nodes-scoring.js: 109 行
- workflow.js: 121 行
- prompts.js: 138 行

所有文件均不超过 150 行 ✓

## 🔄 工作流程

```
START
  ↓
解析简历 → [失败?] → END
  ↓ [成功]
分析技能
  ↓
分析项目
  ↓
计算评分 → [评分 < 50?]
  ↓              ↓ [是]
[否]          人工审核 → END
  ↓
自动生成建议
  ↓
END
```

## 🚀 快速开始

```bash
# 运行示例
cd langgraph-learning
node src/resume-optimize/index.js

# 在代码中使用
import { optimizeResume } from './workflow.js'

const result = await optimizeResume(resumeText)
console.log('评分:', result.overallScore)
console.log('建议:', result.suggestions)
```

## 🎯 核心功能

### 1. 解析简历 (`parseResumeTool`)
- 提取个人信息（姓名、工作年限、职位）
- 提取专业技能列表
- 提取项目经验

### 2. 分析技能 (`analyzeSkillsTool`)
- 评估技能广度和深度
- 判断与工作年限的匹配度
- 识别问题和优势

### 3. 分析项目 (`analyzeProjectsTool`)
- 评估项目数量和质量
- 分析项目难度和描述
- 检查技术栈匹配度

### 4. 计算评分 (`calculateScoreNode`)
- 技能 40% + 项目 60%
- 评级：优秀(85+)、良好(70+)、及格(50+)、需改进(<50)

### 5. 生成建议 (`generateSuggestionsNode`)
- 总体评价
- 技能改进建议
- 项目优化建议
- 具体优化步骤
- 技能补充方向

## ⚙️ 配置

```javascript
// 评分阈值
SCORE_THRESHOLDS = {
  EXCELLENT: 85,          // 优秀 ⭐⭐⭐
  GOOD: 70,              // 良好 ⭐⭐
  NEEDS_IMPROVEMENT: 50  // 需改进 ⚠️
}

// 评分权重
SCORE_WEIGHTS = {
  SKILLS: 0.4,    // 40%
  PROJECTS: 0.6   // 60%
}
```

## 📊 输出示例

```
🚀 开始优化简历...

============================================================
📋 步骤 1: 解析简历
============================================================
✅ 解析成功
  - 姓名: 张三
  - 工作年限: 3 年
  - 技能数量: 4
  - 项目数量: 2

============================================================
🔍 步骤 2: 分析专业技能
============================================================
✅ 技能分析完成
  - 综合评分: 65 /100
  - 发现问题: 2 个
  - 识别优势: 1 个

============================================================
💼 步骤 3: 分析项目经验
============================================================
✅ 项目分析完成
  - 综合评分: 70 /100
  - 发现问题: 1 个
  - 识别优势: 2 个

============================================================
📊 步骤 4: 计算综合评分
============================================================
✅ 评分计算完成
  - 技能评分: 65 /100 (权重 40%)
  - 项目评分: 70 /100 (权重 60%)
  - 综合评分: 68 /100
  - 评级: 良好 ⭐⭐
  - 需要人工审核: 否

🔀 路由决策: 自动生成建议

============================================================
💡 步骤 5: 生成优化建议
============================================================
✅ 建议生成完成

============================================================
✨ 简历优化完成！
============================================================

📊 最终结果摘要:
✅ 候选人: 张三
📈 技能评分: 65 /100
💼 项目评分: 70 /100
🎯 综合评分: 68 /100
⚠️  需要人工审核: 否
```

## 🔧 LangGraph 特性

- **状态管理**：使用 `Annotation.Root` 定义状态
- **条件路由**：根据解析结果和评分决定流程
- **持久化**：使用 `MemorySaver` 保存状态
- **并行节点**：可扩展为并行分析

## 📦 依赖项

```json
{
  "@langchain/deepseek": "^0.x.x",
  "@langchain/langgraph": "^0.x.x",
  "@langchain/core": "^0.x.x",
  "zod": "^3.x.x",
  "dotenv": "^16.x.x"
}
```

## 🔐 环境变量

创建 `.env` 文件：

```env
DEEPSEEK_API_KEY=your_api_key_here
```

## 🎨 模块化设计

每个文件职责清晰，便于：
- ✅ 单独测试
- ✅ 独立维护
- ✅ 代码复用
- ✅ 功能扩展

## 📈 扩展方向

- 添加教育背景分析
- 支持 PDF/Word 解析
- 集成更多 LLM
- 生成优化后的简历
- 数据统计和可视化

